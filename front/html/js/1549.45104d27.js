"use strict";(self["webpackChunks003"]=self["webpackChunks003"]||[]).push([[1549],{1549:(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var n=function(){var t=this,e=t._self._c;return e("div",[e("Alert",{attrs:{type:"success","show-icon":"",banner:""}},[t._v("温馨提示：该图数据来源自资源品类模块，分析各类资源类型拥有多少资源品类！")]),e("div",{attrs:{id:"container11"}})],1)},a=[],s=i(1821),l=i(548);const o={name:"test-page",components:{},props:{},data(){return{depCountData:[{title:"零食类",value:27},{title:"冷冻类",value:25},{title:"烟酒类",value:18},{title:"生鲜类",value:15},{title:"散装类",value:10},{title:"水果类",value:5}],piePlot:{}}},methods:{init(){this.initAntvFx(),this.getAntvVoListFx()},getAntvVoListFx(){var t=this;(0,l.y)().then((e=>{e.success&&t.piePlot.changeData(e.result)}))},renderStatistic(t,e,i){const{width:n,height:a}=(0,s.measureTextWidth)(e,i),l=t/2;let o=1;t<n&&(o=Math.min(Math.sqrt(Math.abs(Math.pow(l,2)/(Math.pow(n/2,2)+Math.pow(a,2)))),1));const r=`width:${t}px;`;return`<div style="${r};font-size:${o}em;line-height:${o<1?1:"inherit"};">${e}</div>`},initAntvFx(){var t=this,e=this.depCountData;this.piePlot=new s.Pie("container11",{appendPadding:10,data:e,angleField:"value",colorField:"title",radius:1,innerRadius:.64,meta:{value:{formatter:t=>`${t} `}},label:{type:"inner",offset:"-50%",style:{textAlign:"center"},autoRotate:!1,content:"{value}"},statistic:{title:{offsetY:-4,customHtml:(e,i,n)=>{const{width:a,height:s}=e.getBoundingClientRect(),l=Math.sqrt(Math.pow(a/2,2)+Math.pow(s/2,2)),o=n?n.title:"再生资源品类分布图";return t.renderStatistic(l,o,{fontSize:28})}},content:{offsetY:4,style:{fontSize:"32px"},customHtml:(e,i,n,a)=>{const{width:s}=e.getBoundingClientRect(),l=n?` ${n.value}种`:` ${a.reduce(((t,e)=>t+e.value),0)}种`;return t.renderStatistic(s,l,{fontSize:32})}}},interactions:[{type:"element-selected"},{type:"element-active"},{type:"pie-statistic-active"}]}),this.piePlot.render(),this.piePlot.on("element:click",(e=>{t.getPieUserItemFx(e.data.data.title)}))}},mounted(){this.init()}},r=o;var c=i(1001),u=(0,c.Z)(r,n,a,!1,null,"3e4853b7",null);const h=u.exports},548:(t,e,i)=>{i.d(e,{W:()=>a,y:()=>s});var n=i(7184);const a=t=>(0,n.A_)("/teacher/getAntvVoList",t),s=t=>(0,n.A_)("/resource/getAntvVoList",t)}}]);